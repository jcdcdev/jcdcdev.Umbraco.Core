name: 🏗️ Build
on:
  pull_request:
    branches: "*"
  workflow_dispatch:
jobs:
  metadata:
    uses: jcdcdev/jcdcdev.Github.UmbracoSimpleDeploy/.github/workflows/generate-project-metadata.yml@dev
  build:
    strategy:
      matrix:
        umbraco-version: [10, 12, 13, 14]
    uses: jcdcdev/jcdcdev.Github.UmbracoSimpleDeploy/.github/workflows/build-template.yml@dev
    needs:
      - metadata
    with:
      project-name: ${{ needs.metadata.outputs.project-name }}
      project-path: ${{ needs.metadata.outputs.project-path }}
      umbraco-version: ${{ matrix.umbraco-version }}